#!/bin/bash

# Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±å–å¾—ã‚¬ã‚¤ãƒ‰

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                                    â•‘"
echo "â•‘   ğŸ“‹ Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã®å–å¾—æ–¹æ³•                         â•‘"
echo "â•‘                                                                    â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
RED='\033[0;31m'
NC='\033[0m'

echo -e "${BLUE}â”â”â” ã‚¹ãƒ†ãƒƒãƒ—1: Supabase Dashboardã«ãƒ­ã‚°ã‚¤ãƒ³ â”â”â”${NC}"
echo ""
echo "  1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã«ã‚¢ã‚¯ã‚»ã‚¹:"
echo "     ğŸ‘‰ https://supabase.com/dashboard"
echo ""
echo "  2. ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆã¾ã ã®å ´åˆï¼‰"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

echo -e "${BLUE}â”â”â” ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã¾ãŸã¯ä½œæˆ â”â”â”${NC}"
echo ""
echo "  ã€æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€‘"
echo "    - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯"
echo ""
echo "  ã€æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹å ´åˆã€‘"
echo "    1. 'New project' ã‚’ã‚¯ãƒªãƒƒã‚¯"
echo "    2. Organization: é¸æŠã¾ãŸã¯æ–°è¦ä½œæˆ"
echo "    3. Name: 'ai-trader' ãªã©"
echo "    4. Database Password: å®‰å…¨ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š"
echo "    5. Region: Tokyo (Northeast Asia) ã‚’æ¨å¥¨"
echo "    6. 'Create new project' ã‚’ã‚¯ãƒªãƒƒã‚¯"
echo "    7. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå®Œäº†ã‚’å¾…ã¤ï¼ˆ1-2åˆ†ï¼‰"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

echo -e "${BLUE}â”â”â” ã‚¹ãƒ†ãƒƒãƒ—3: Project Reference ID ã‚’å–å¾— â”â”â”${NC}"
echo ""
echo "  æ–¹æ³•A: Settings ãƒšãƒ¼ã‚¸ã‹ã‚‰å–å¾—ï¼ˆæ¨å¥¨ï¼‰"
echo "  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "    1. å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã® âš™ï¸ 'Settings' ã‚’ã‚¯ãƒªãƒƒã‚¯"
echo "    2. 'General' ã‚¿ãƒ–ã‚’é¸æŠ"
echo "    3. 'Reference ID' ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹"
echo "    4. ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯"
echo ""
echo "    ğŸ“ ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹:"
echo "       ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠå¾Œã€ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹:"
echo "       https://supabase.com/dashboard/project/_/settings/general"
echo ""
echo "  æ–¹æ³•B: URLã‹ã‚‰ç¢ºèª"
echo "  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "    ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰URLã‚’ç¢ºèª:"
echo "    https://supabase.com/dashboard/project/[YOUR_PROJECT_REF]/..."
echo "                                            ^^^^^^^^^^^^^^^^^^"
echo "                                            ã“ã®16æ–‡å­—ãŒProject ID"
echo ""
echo "  ${GREEN}å½¢å¼:${NC} 16æ–‡å­—ã®è‹±æ•°å­—"
echo "  ${GREEN}ä¾‹:${NC} abcdefghijklmnop"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

echo -e "${BLUE}â”â”â” ã‚¹ãƒ†ãƒƒãƒ—4: ãã®ä»–ã®æƒ…å ±ï¼ˆå‚è€ƒï¼‰â”â”â”${NC}"
echo ""
echo "  Project URL:"
echo "    Settings â†’ API â†’ Project URL"
echo "    å½¢å¼: https://[PROJECT_REF].supabase.co"
echo ""
echo "  API Keys:"
echo "    Settings â†’ API â†’ Project API keys"
echo "    - anon/public key: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨"
echo "    - service_role key: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç”¨ï¼ˆæ©Ÿå¯†æƒ…å ±ï¼‰"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

echo -e "${YELLOW}â”â”â” âš ï¸  é‡è¦ãªæ³¨æ„äº‹é … â”â”â”${NC}"
echo ""
echo "  1. ${RED}service_role key ã¯çµ¶å¯¾ã«å…¬é–‹ã—ãªã„ã“ã¨${NC}"
echo "  2. GitHub Secretsã«è¨­å®šã™ã‚‹éš›ã¯å¿…ãšæ­£ç¢ºã«ã‚³ãƒ”ãƒ¼"
echo "  3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã™ã‚‹ã¨å¾©å…ƒä¸å¯"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

echo -e "${GREEN}â”â”â” ğŸ“ GitHub Secrets è¨­å®šå†…å®¹ï¼ˆä¿®æ­£ç‰ˆï¼‰â”â”â”${NC}"
echo ""
echo "  GitHub Actionsã®åˆ¶ç´„ã«ã‚ˆã‚Šã€Secretåã‚’å¤‰æ›´ã—ã¾ã—ãŸ:"
echo ""
echo "  ${YELLOW}è¨­å®šã™ã‚‹Secretï¼ˆ3ã¤ï¼‰:${NC}"
echo ""
echo "  1ï¸âƒ£  Name: ${GREEN}SUPABASE_TOKEN${NC}"
echo "      Value: sbp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
echo "      å–å¾—: https://supabase.com/dashboard/account/tokens"
echo ""
echo "  2ï¸âƒ£  Name: ${GREEN}PROJECT_ID${NC}"
echo "      Value: 16æ–‡å­—ã®è‹±æ•°å­—ï¼ˆä¾‹: abcdefghijklmnopï¼‰"
echo "      å–å¾—: Settings â†’ General â†’ Reference ID"
echo ""
echo "  3ï¸âƒ£  Name: ${GREEN}OPENAI_API_KEY${NC}"
echo "      Value: sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
echo "      â€» Codespaces Secretsã«è¨­å®šæ¸ˆã¿ã®ã‚­ãƒ¼"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

echo -e "${GREEN}ğŸ”— ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯é›†${NC}"
echo ""
echo "  Supabase Dashboard:"
echo "    ğŸ‘‰ https://supabase.com/dashboard"
echo ""
echo "  Access Tokenå–å¾—:"
echo "    ğŸ‘‰ https://supabase.com/dashboard/account/tokens"
echo ""
echo "  GitHub Secretsè¨­å®š:"
echo "    ğŸ‘‰ https://github.com/ippeitanaka/ai-trader-supabase/settings/secrets/actions"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

# OpenAI API Keyè¡¨ç¤º
echo -e "${GREEN}â”â”â” ğŸ”‘ OpenAI API Keyç¢ºèª â”â”â”${NC}"
echo ""
if [ -f "/workspaces/.codespaces/shared/.env-secrets" ]; then
    API_KEY=$(grep OPENAI_API_KEY /workspaces/.codespaces/shared/.env-secrets | cut -d= -f2 | base64 -d 2>/dev/null)
    if [ -n "$API_KEY" ]; then
        echo "  âœ… Codespaces Secretsã‹ã‚‰æ¤œå‡º:"
        echo "  ${API_KEY}"
        echo ""
        echo "  ${YELLOW}â†‘ ã“ã®å€¤ã‚’ OPENAI_API_KEY ã¨ã—ã¦GitHub Secretsã«è¨­å®š${NC}"
    else
        echo "  âŒ æ¤œå‡ºã§ãã¾ã›ã‚“ã§ã—ãŸ"
        echo "  æ‰‹å‹•ã§Codespaces Secretsã‹ã‚‰ç¢ºèªã—ã¦ãã ã•ã„"
    fi
else
    echo "  âš ï¸  Codespacesç’°å¢ƒå¤–ã®ãŸã‚è‡ªå‹•æ¤œå‡ºã§ãã¾ã›ã‚“"
fi
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

echo -e "${GREEN}âœ… æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—${NC}"
echo ""
echo "  1. ä¸Šè¨˜ã®æƒ…å ±ã‚’åé›†"
echo "  2. GitHub Secretsãƒšãƒ¼ã‚¸ã‚’é–‹ã"
echo "     ğŸ‘‰ https://github.com/ippeitanaka/ai-trader-supabase/settings/secrets/actions"
echo "  3. 3ã¤ã®Secretã‚’è¨­å®š"
echo "  4. GitHub Actionsã‚’å®Ÿè¡Œã¾ãŸã¯ã‚³ãƒ¼ãƒ‰ã‚’ãƒ—ãƒƒã‚·ãƒ¥"
echo ""
